{% macro tag_li(tag, addon=None, css_class='') -%}
<li id="taglink-{{ tag.id }}" class="{{ css_class }}">
  {% if tag.can_reverse() %}
    <a href="{{ url('tags.detail', tag.tag_text) }}" class="tagitem">
      {{ tag.tag_text }}
    </a>
  {% else %}
    <span class="tagitem">{{ tag.tag_text }}</span>
  {% endif %}
</li>
{%- endmacro %}

{% if tags %}
  <ul class="addon-tags nojs" id="addonid-{{ addon.id }}">
    {% for tag in tags %}
      {{ tag_li(tag, addon=addon, css_class='tag') }}
    {% endfor %}
  </ul>
{% endif %}
